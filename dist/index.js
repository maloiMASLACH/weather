(()=>{"use strict";const e={"Light rain":"rain_light","Light rain shower":"snow","Light sleet":"snow","Light snow":"snow","Heavy snow":"snow","Moderate or heavy sleet":"snow","Moderate or heavy rain shower":"rain_huge","Light drizzle":"rain_light","Moderate rain":"rain_huge","Partly cloudy":"sun_cloud",Clear:"sunny",Sunny:"sunny",Overcast:"cloud",Fog:"cloud",Cloudy:"cloud",Mist:"cloud","Patchy rain possible":"rain_light","Moderate snow":"snow","Blowing snow":"snow",Blizzard:"snow","Light snow showers":"rain_light","Patchy snow possible":"snow","Patchy heavy snow":"snow","Patchy light rain":"rain_light","Moderate rain at times":"rain_light","Patchy light drizzle":"rain_light","Freezing fog":"cloud","Patchy light snow":"snow","Freezing drizzle":"snow","Moderate or heavy snow showers":"snow","Light freezing rain":"rain_light","Patchy moderate snow":"snow"};class t{renderAlertBlock(){const e=document.createElement("div");e.className="alertBlock";const t=document.createElement("p");return t.textContent="Bad request",e.append(t),document.body.append(e),setTimeout((()=>{e.remove()}),3e3),!0}pageError(e){localStorage.setItem("sity",localStorage.getItem("sityInput"));const t=localStorage.getItem("favorites").split(",");t.splice(t.indexOf(e),1),t.join(","),localStorage.setItem("favorites",t),(new u).renderNewPAge("Home"),this.renderAlertBlock()}imgError(){const e=document.createElement("div");e.className="alertBlockImg";const t=document.createElement("p");return t.textContent="Some images are lost",e.append(t),document.body.append(e),setTimeout((()=>{e.remove()}),3e3),!0}searchPanelError(){const e=document.createElement("div");e.className="alertBlocksSearch";const t=document.createElement("p");return t.textContent="Incorrect search",e.append(t),document.body.append(e),setTimeout((()=>{e.remove()}),1e3),!0}}class n{slideByScroll(e){e.addEventListener("mousewheel",(t=>{const n=window.event||t,r=Math.max(-1,Math.min(1,n.wheelDelta||-n.detail));e.scrollLeft-=10*r,setTimeout((()=>{e.scrollLeft-=10*r}),10),setTimeout((()=>{e.scrollLeft-=10*r}),20),setTimeout((()=>{e.scrollLeft-=10*r}),30),setTimeout((()=>{e.scrollLeft-=10*r}),40),n.preventDefault()}),!1)}slideByTouch(e){let t=0,n=0;e.addEventListener("touchstart",(e=>{t=e.touches[0].clientX})),e.addEventListener("touchmove",(r=>{e.scrollLeft=-(+n+r.touches[0].clientX-t)})),e.addEventListener("touchend",(()=>{n=-e.scrollLeft}))}slideByArrows(e,t,n){t.addEventListener("click",(()=>{for(let t=0;t<50;t++)setTimeout((()=>{e.scrollLeft-=e.offsetWidth/50}),5*t)})),n.addEventListener("click",(()=>{for(let t=0;t<50;t++)setTimeout((()=>{e.scrollLeft+=e.offsetWidth/50}),5*t)}))}renderClockBlocks(n,r,o){const a=document.createElement("div");a.className="forecast";for(let r=n.location.localtime.split(" ")[1].split(":")[0];r<24;r++){const o=document.createElement("div");o.className="clockForecast","F"===localStorage.getItem("degrees")?o.textContent=`${n.forecast.forecastday[0].hour[r].temp_f}°F`:o.textContent=`${n.forecast.forecastday[0].hour[r].temp_c}°C`;const c=document.createElement("p");let s;c.textContent=`${n.forecast.forecastday[0].hour[r].time.split(" ")[1]}`,s=c.textContent.split(":")[0]<=n.forecast.forecastday[0].astro.sunrise.split(":")[0]||c.textContent.split(":")[0]>+n.forecast.forecastday[0].astro.sunset.split(":")[0]+12?"night":"day";const l=document.createElement("img");void 0===e[n.forecast.forecastday[0].hour[r].condition.text]&&(new t).imgError(),l.src=`./light/${s}/${e[n.forecast.forecastday[0].hour[r].condition.text]}.png`,l.style.width="70%",o.append(l,c),a.append(o)}for(let r=1;r<n.forecast.forecastday.length;r++)for(let o=0;o<24;o++){const c=document.createElement("div");c.className="clockForecast","F"===localStorage.getItem("degrees")?c.textContent=`${n.forecast.forecastday[r].hour[o].temp_f}°F`:c.textContent=`${n.forecast.forecastday[r].hour[o].temp_c}°C`;const s=document.createElement("p");let l;s.textContent=`${n.forecast.forecastday[r].hour[o].time.split(" ")[1]}`,l=s.textContent.split(":")[0]<=n.forecast.forecastday[r].astro.sunrise.split(":")[0]||s.textContent.split(":")[0]>+n.forecast.forecastday[r].astro.sunset.split(":")[0]+12?"night":"day";const i=document.createElement("img");void 0===e[n.forecast.forecastday[r].hour[o].condition.text]&&(new t).imgError(),i.src=`./light/${l}/${e[n.forecast.forecastday[r].hour[o].condition.text]}.png`,i.style.width="70%",c.append(i,s),a.append(c)}return this.slideByScroll(a),this.slideByTouch(a),this.slideByArrows(a,r,o),a}renderSlider(e){const t=document.createElement("div");t.className="slider";const n=document.createElement("img");n.src="./light/arrow.png",n.style.transform="scaleX(-1)",n.className="arrow";const r=document.createElement("img");r.src="./light/arrow.png",r.className="arrow";const o=this.renderClockBlocks(e,n,r);return t.append(n,o,r),t}render(e){return this.renderSlider(e)}}class r{renderCurrentLocation(e){const t=document.createElement("div"),n=document.createElement("p");n.classList="currentSity",n.textContent=e.location.name;const r=document.createElement("p");return r.classList="currentCountry",r.textContent=e.location.country,t.append(n,r),t}renderCurrentWetherIcon(t){const n=document.createElement("img");return n.className="icon",n.src=`./light/${localStorage.getItem("dayPart")}/${e[t.current.condition.text]}.png`,n}renderCurrentTemp(e){const t=document.createElement("div");t.classList="currentTemp";const n=document.createElement("p");n.classList="tempNumber";const r=document.createElement("p");return r.classList="currentDegrees","F"===localStorage.getItem("degrees")?(n.textContent=`${e.current.temp_f}`,r.textContent="°F"):(n.textContent=`${e.current.temp_c}`,r.textContent="°C"),t.append(n,r),t}renderCurrentDate(e){const t=document.createElement("div");t.classList="currentTimer";const n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=document.createElement("p");r.textContent=`${(new Date).getDate()}th ${n[(new Date).getMonth()]} '${(new Date).getUTCFullYear().toString().slice(-2)}`,r.classList="currentDay";const o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=document.createElement("p");return a.textContent=`${o[(new Date).getDay()]}   |   ${e.location.localtime.split(" ")[1].split(":")[0]} : ${`0${(new Date).getMinutes().toString()}`.slice(-2)}\n    `,a.classList="currentDay",t.append(r,a),setInterval((()=>{a.textContent.split(":")[1].slice(1,3)!==(new Date).getUTCMinutes()&&(r.textContent=`${(new Date).getDate()}th ${n[(new Date).getMonth()]} '${(new Date).getUTCFullYear().toString().slice(-2)}`,a.textContent=`${o[(new Date).getDay()]}   |   ${e.location.localtime.split(" ")[1].split(":")[0]} : ${`0${(new Date).getMinutes().toString()}`.slice(-2)}\n        `)}),1e3),t}renderSwitcher(){const e=document.createElement("div");e.className="switcher";const t=document.createElement("input");t.type="checkbox",t.id="switch","F"===localStorage.getItem("degrees")&&(t.checked=!0),t.onclick=()=>{t.checked&&localStorage.setItem("degrees","F"),t.checked||localStorage.setItem("degrees","C")};const n=document.createElement("label");return n.setAttribute("for",t.id),n.textContent="C F",e.append(t,n),e}renderFirstBlock(e){const t=document.createElement("div"),n=this.renderCurrentWetherIcon(e),r=this.renderCurrentLocation(e),o=this.renderCurrentTemp(e),a=this.renderCurrentDate(e);return t.append(n,r,o,a),t}renderShortInfoLine(e){const t=document.createElement("div");let n;t.className="shortInfoLine",n="mp/h"===localStorage.getItem("wind")?e.current.wind_mph:e.current.wind_kph;const r=[`Wind ${n} ${localStorage.getItem("wind")||"km/h"}`,`Hum ${e.current.humidity} %`,`Rain ${e.forecast.forecastday[0].day.daily_chance_of_rain} %`];for(let e=0;e<3;e++){const n=document.createElement("img");n.src=`./light/icon_${e}.png`;const o=document.createElement("p");o.textContent=r[e],t.append(n,o)}return t}reRenderBlock(e,t){e.children[0].children[0].innerHTML="",e.children[2].remove();const r=this.renderFirstBlock(t),o=(new n).renderSlider(t);e.append(o),e.children[0].children[0].append(r)}renderLeftBlock(e){const t=document.createElement("div");t.className="leftBlock";const n=document.createElement("div");n.className="leftBlockFirstLay";const r=this.renderFirstBlock(e),o=this.renderSwitcher();n.append(r,o);const a=document.createElement("div");a.className="leftBlockSecondLay";const c=this.renderShortInfoLine(e);return a.append(c),t.append(n,a),o.onchange=()=>{this.reRenderBlock(t,e)},t}}const o={classic:{day:" linear-gradient(248.66deg, #FF9696 0%, #8C6BAE 100%)",night:" linear-gradient(248.66deg, #48355B 0%, #8C6EAB 100%)"},flavoring:{day:" linear-gradient(248.66deg, #EBDCB2 0%, #AF4425 100%)",night:" linear-gradient(248.66deg, #9f7349 0%, #AF4425 100%)"},spain:{day:" linear-gradient(248.66deg, #C8000A 0%, #E8A735 100%)",night:" linear-gradient(248.66deg, #8C0004 0%, #C8000A 100%)"},golden:{day:" linear-gradient(248.66deg, #CDBEA7 0%, #C29545 100%)",night:" linear-gradient(248.66deg, #C29545 0%, #323030 100%)"},ocean:{day:" linear-gradient(248.66deg, #66A5AD 0%, #07575B 100%)",night:" linear-gradient(248.66deg, #07575B 0%, #003B46 100%)"},forest:{day:" linear-gradient(248.66deg, #B9C4C9 0%, #52958B 100%)",night:" linear-gradient(248.66deg, #128277 0%, #004D47 100%)"},spring:{day:" linear-gradient(248.66deg, #C6D166 0%, #5C821A 100%)",night:" linear-gradient(248.66deg, #5C821A 0%, #0F1B07 100%)"},rock:{day:" linear-gradient(248.66deg, #D09683 0%, #73605B 100%)",night:" linear-gradient(248.66deg, #2D4262 0%, #363237 100%)"},flower:{day:" linear-gradient(248.66deg, #3F681C 0%, #FFBB00 30%, #FB6542 60%, #375E97 100%)",night:" linear-gradient(248.66deg, #3F681C 20%, #FFBB00 30%,  #375E97 70%)"}},a=class{constructor(e){this.container=document.createElement("div"),this.container.info=e}createPage(){const e=document.createElement("div");return e.className="content",e.style.width="100%",e.style.height="100%",localStorage.getItem("theme")&&localStorage.getItem("dayPart")&&(document.body.style.background=o[localStorage.getItem("theme")][localStorage.getItem("dayPart")]),this.container.style.height="91vh",e}render(){return this.container}},c=class{getWhatINeed(e){return fetch(`https://api.weatherapi.com/v1/forecast.json?key=01960bba4b6a444a831133935212311&q=${e}&days=3&aqi=yes&alerts=yes`).then((e=>400!==e.status?e.json():((new t).pageError(sity),0))).catch((e=>{throw e}))}townsAPI(e){return fetch(`https://autocomplete.travelpayouts.com/places2?term=${e}&locale=en&types[]=city`).then((e=>400!==e.status?e.json():((new t).searchPanelError(),0)))}async showAll(e){return await this.getWhatINeed(e)}async townList(e){return await this.townsAPI(e)}};class s{useChanges(e){try{localStorage.setItem("sityInput",localStorage.getItem("sity")||"Minsk"),localStorage.setItem("sity",e),localStorage.getItem("favorites")&&-1!==localStorage.getItem("favorites").split(",").indexOf(e)||localStorage.setItem("favorites",[localStorage.getItem("favorites"),e]),(new u).renderNewPAge("Home")}catch(e){window.location.hash="#Err"}}async renderHelpBlocks(e,t){const n=await(new c).townList(e),r=document.createElement("div");if(r.style.background=o[localStorage.getItem("theme")][localStorage.getItem("dayPart")],n.length)for(let e=0;e<n.length;e++){if(e<5){const t=document.createElement("p");t.textContent=n[e].name,t.addEventListener("click",(()=>{localStorage.setItem("inputValue",t.textContent),this.useChanges(t.textContent)})),r.append(t)}t.innerHTML="",t.append(r)}else t.innerHTML="";document.addEventListener("click",(()=>{t.innerHTML=""}))}renderInputBlock(){const e=document.createElement("div");e.className="inputdiv";const t=document.createElement("input");t.className="searchPanel",t.value=localStorage.getItem("inputValue")||"";const n=document.createElement("div");n.className="helpBloks",t.addEventListener("keyup",(e=>{"Enter"===e.code&&this.useChanges(t.value),localStorage.setItem("inputValue",t.value),this.renderHelpBlocks(t.value,n,t)}));const r=document.createElement("img");return r.src="./light/search.png",r.addEventListener("click",(()=>{this.useChanges(t.value)})),e.append(t,r,n),e}clocksCanvas(e){const t=document.createElement("canvas"),n=t.getContext("2d"),r=t.width/2.4,o=t.height/2;return n.beginPath(),n.strokeStyle="#E0E0E0",n.lineWidth="8",n.moveTo(r,o),n.lineTo(r+50*Math.cos((30*e.split(":")[0]-90)*Math.PI/180),o+50*Math.sin((30*e.split(":")[0]-90)*Math.PI/180)),n.stroke(),n.beginPath(),n.strokeStyle="black",n.lineWidth="6",n.moveTo(r,o),n.lineTo(r+60*Math.cos((e.split(":")[1].split(" ")[0]/60*360-90)*Math.PI/180),o+50*Math.sin((e.split(":")[1].split(" ")[0]/60*360-90)*Math.PI/180)),n.stroke(),t}renderClocksBlock(e){const t=["Sunrise","Last Update","Sunset"],n=[e.forecast.forecastday[0].astro.sunrise.split(" ")[0],e.current.last_updated.split(" ")[1],e.forecast.forecastday[0].astro.sunset.split(" ")[0]],r=document.createElement("div");r.className="allClocks";for(let e=0;e<3;e++){const o=document.createElement("div");o.className="clockBlock";const a=document.createElement("p");a.className="dayEvent",a.textContent=t[e];const c=this.clocksCanvas(n[e]),s=document.createElement("div");s.className="clock";const l=document.createElement("p");l.textContent=n[e],s.append(c,l),o.append(a,s),r.append(o)}return r}renderIndexCanvas(e){const t=["rgba(255, 255, 255, 0.24)","rgba(172, 142, 255, 0.78)","rgba(152, 116, 255, 0.83)","rgba(134, 92, 253, 0.85)"," #713FFD"],n=document.createElement("canvas"),r=n.getContext("2d");n.style.width="100%",t.forEach((e=>{r.beginPath(),r.lineWidth=5;const n=1+.2*t.indexOf(e),o=1+.2*(t.indexOf(e)+1);r.arc(150,155,125,Math.PI*n,Math.PI*o,!1),r.strokeStyle=e,r.stroke()}));const o=1+.2*e;return r.lineWidth=20,r.beginPath(),r.arc(150,155,125,Math.PI*o-.05,Math.PI*o+.05,!1),r.strokeStyle="white",r.stroke(),n}indexesBlock(e){const t=document.createElement("div");t.className="indexes";const n=["Air Quality","UV Index"],r=[e.current.air_quality["us-epa-index"],Math.round(e.current.uv/2)],o=["Low","Moderate","Medium","Height","Extream"];return n.forEach((e=>{const a=document.createElement("div");a.className="index";const c=document.createElement("p");c.textContent=e;const s=this.renderIndexCanvas(r[n.indexOf(e)]),l=document.createElement("p");l.textContent=`${r[n.indexOf(e)]}/5 ${o[r[n.indexOf(e)]-1]}`,a.append(c,s,l),t.append(a)})),t}render(e){const t=document.createElement("div");t.className="rightBlock";const n=this.renderInputBlock(e),r=this.renderClocksBlock(e),a=this.indexesBlock(e);return t.append(n,r,a),t.style.background=o[localStorage.getItem("theme")][localStorage.getItem("dayPart")],t}}const l={404:"Error. Bad URl"},i={Home:class extends a{constructor(e,t){super(e,t)}renderTwoMainBlocks(){const e=(new r).renderLeftBlock(this.container.info),t=(new n).render(this.container.info);e.append(t);const o=(new s).render(this.container.info);this.container.firstChild.append(e,o)}render(){const e=this.createPage();return this.container.append(e),this.renderTwoMainBlocks(),this.container}},Favorite:class extends a{constructor(e){super(e)}currentTownTemp(e){const t=document.createElement("div");t.className="temp";const n=document.createElement("p");n.classList="tempNumber";const r=document.createElement("p");return r.classList="currentDegrees","F"===localStorage.getItem("degrees")?(n.textContent=`${e.current.temp_f}`,r.textContent="°F"):(n.textContent=`${e.current.temp_c}`,r.textContent="°C"),t.append(n,r),t}townLocation(e){const t=document.createElement("div");t.className="favoriteLocation";const n=document.createElement("p"),r=document.createElement("p");return n.className="locationSity",r.className="locationCountry",n.textContent=e.location.name,r.textContent=e.location.country,t.append(n,r),t}renderCommonInfoBlock(e){const t=document.createElement("div");t.className="singleFavoriteInfo";const n=this.currentTownTemp(e),r=this.townLocation(e);return t.append(n,r),t}renderShortInfoLine(e){const t=document.createElement("div");let n;t.className="blockLine",n="mp/h"===localStorage.getItem("wind")?e.current.wind_mph:e.current.wind_kph;const r=[`Wind ${n} ${localStorage.getItem("wind")||"km/h"}`,`Hum ${e.current.humidity} %`];for(let e=0;e<2;e++){const n=document.createElement("img");n.src=`./light/icon_${e}.png`;const o=document.createElement("p");o.textContent=r[e],t.append(n,o)}return t}async singleBlock(n){const r=document.createElement("div"),o=document.createElement("div");r.className="singleFavorite",o.className="firstblock";const a=await(new c).showAll(n),s=this.renderCommonInfoBlock(a),l=this.renderShortInfoLine(a),i=document.createElement("img");void 0===e[a.current.condition.text]&&(new t).imgError(),i.src=`./light/${localStorage.getItem("dayPart")}/${e[a.current.condition.text]}.png`;const d=document.createElement("img");return d.className="close",d.src="./light/close.png",o.append(s,i,d),r.append(o,l),r.addEventListener("click",(e=>{e.target===d?(r.remove(),localStorage.setItem("favorites",localStorage.getItem("favorites").replace(`,${sity}`,""))):(localStorage.setItem("sity",r.children[0].children[0].children[1].children[0].textContent),window.location.hash="#Home")})),r}renderFavoritesBlock(){if(localStorage.getItem("favorites")){const e=document.createElement("div");e.className="favoritesBlocks";const t=localStorage.getItem("favorites").split(",");return t.shift(),t.forEach((async t=>{const n=await this.singleBlock(t);e.append(n)})),e}return""}render(){const e=this.createPage(),t=this.renderFavoritesBlock();return e.append(t),this.container.append(e),this.container}},Settings:class extends a{constructor(e,t){super(e,t)}renderDayPart(){const e=document.createElement("div");e.className="dayPartSett";const t=document.createElement("img");t.src=`./light/${localStorage.getItem("dayPart")}/sunny.png`;const n=document.createElement("p");return n.className="dayPart",n.textContent=localStorage.getItem("dayPart"),e.append(t,n),e}renderCurrentLocation(){const e=document.createElement("div");e.classList="settingsLocation";const t=document.createElement("p"),n=document.createElement("p");return t.className="title",n.className="currentSitySett",t.textContent="Your current location",n.textContent=localStorage.getItem("sity")||"Minsk",e.append(t,n),e}degreesSetting(){const e=document.createElement("div");e.className="tempDegSett";const t=document.createElement("p");t.textContent="Choose degrees measure";const n=document.createElement("select");return["°C","°F"].forEach((e=>{const t=document.createElement("option");t.textContent=e,t.addEventListener("click",(()=>{})),n.append(t)})),"F"===localStorage.getItem("degrees")?n.children[1].setAttribute("selected","selected"):n.children[0].setAttribute("selected","selected"),n.onchange=()=>{localStorage.setItem("degrees",n.value[1])},e.append(t,n),e}windSetting(){const e=document.createElement("div");e.className="tempDegSett";const t=document.createElement("p");t.textContent="Choose wind speed measure";const n=document.createElement("select");return["km/h","mp/h"].forEach((e=>{const t=document.createElement("option");t.textContent=e,t.addEventListener("click",(()=>{})),n.append(t)})),"mp/h"===localStorage.getItem("wind")?n.children[1].setAttribute("selected","selected"):n.children[0].setAttribute("selected","selected"),n.onchange=()=>{localStorage.setItem("wind",n.value)},e.append(t,n),e}colorSetting(){const e=document.createElement("div");e.className="tempDegSett";const t=document.createElement("p");t.textContent="Choose theme";const n=document.createElement("div");n.className="demo",localStorage.getItem("theme")&&localStorage.getItem("dayPart")&&(n.style.background=o[localStorage.getItem("theme")][localStorage.getItem("dayPart")]);const r=document.createElement("div");return r.className="colorConteiner",Object.keys(o).forEach((e=>{const t=document.createElement("div");t.className="colorTempl",t.style.background=o[e][localStorage.getItem("dayPart")],r.append(t)})),n.onclick=()=>{r.style.display="flex",n.style.display="none";for(let e=0;e<r.children.length;e++)r.children[e].onclick=()=>{localStorage.setItem("theme",Object.keys(o)[e]),document.documentElement.clientWidth<=425&&(document.body.children[0].style.background=o[Object.keys(o)[e]][localStorage.getItem("dayPart")]),document.body.style.background=o[Object.keys(o)[e]][localStorage.getItem("dayPart")],n.style.background=o[Object.keys(o)[e]][localStorage.getItem("dayPart")],r.style.display="none",n.style.display="block"}},e.append(t,n,r),e}renderOptionsBlock(){const e=document.createElement("div");e.className="commonOptions";const t=this.degreesSetting(),n=this.windSetting(),r=this.colorSetting();return e.append(t,n,r),e}render(){const e=this.createPage(),t=document.createElement("div");t.className="settingsContent";const n=this.renderCurrentLocation(),r=this.renderDayPart(),o=document.createElement("div");o.className="settingsoptions";const a=this.renderOptionsBlock();return t.append(n,r),o.append(a),e.append(t,o),this.container.append(e),this.container}},Error:class extends a{constructor(e,t){super(e),this.errType=t}render(){const e=this.createPage(l[this.errType]);return this.container.append(e),this.container}}};class d extends class{constructor(e,t){this.container=document.createElement(e),this.container.className=t}render(){return this.container}}{constructor(e,t){super(e,t)}checkStyleByWidth(e,t){return document.documentElement.clientWidth<=425&&(localStorage.getItem("theme")?this.container.style.background=o[localStorage.getItem("theme")][localStorage.getItem("dayPart")]:this.container.style.background=o.classic.day),window.addEventListener("resize",(()=>{if(document.documentElement.clientWidth<=425){this.container.style.background=o[localStorage.getItem("theme")][localStorage.getItem("dayPart")];for(let n=0;n<e.children.length;n++)e.children[n].innerHTML=`<img src='./light/${t[n]}.png'>`}else{for(let n=0;n<e.children.length;n++)e.children[n].text=`${t[n]}`;this.container.style.background="none"}})),this.container.style.background}renderButtons(){const e=document.createElement("div"),t=Object.keys(i).slice(0,Object.keys(i).length-1);return t.forEach((t=>{const n=document.createElement("a");n.href=`#${t}`,document.documentElement.clientWidth<=425?n.innerHTML=`<img src='./light/${t}.png'>`:n.text=`${t}`,e.append(n)})),this.checkStyleByWidth(e,t),e}render(){const e=this.renderButtons();return this.container.append(e),this.container}}const m=document.body,u=class{constructor(){this.initialPage=new i.Home("Home"),this.menu=new d("header","menu")}checkTheme(e){e.location.localtime.split(" ")[1].split(":")[0]<e.forecast.forecastday[0].astro.sunrise.split(":")[0]||e.location.localtime.split(" ")[1].split(":")[0]>=+e.forecast.forecastday[0].astro.sunset.split(":")[0]+12?localStorage.setItem("dayPart","night"):localStorage.setItem("dayPart","day"),localStorage.getItem("theme")||localStorage.setItem("theme","classic")}async renderNewPAge(e){const t=document.querySelector("#current-page");t&&t.remove();let n=null;const r=await(new c).showAll(localStorage.getItem("sity")||"Minsk");this.checkTheme(r);try{n=new i[e](r)}catch(e){n=new i.Error("404")}if(n){const e=n.render();e.id="current-page",m.append(e)}}routChage(){window.addEventListener("hashchange",(()=>{const e=window.location.hash.slice(1);this.renderNewPAge(e)}))}async run(){if(m.append(this.menu.render()),window.location.hash.length){const e=window.location.hash.slice(1);this.renderNewPAge(e)}else this.renderNewPAge("Home");this.routChage()}};(new u).run()})();